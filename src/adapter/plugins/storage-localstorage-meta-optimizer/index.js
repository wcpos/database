import{ensureRxStorageInstanceParamsAreCorrect as t,INTERNAL_STORE_SCHEMA_TITLE as e}from"rxdb";import{getRxStorageLocalstorage as r}from"./rx-storage-localstorage";var a=r();export function getLocalstorageMetaOptimizerRxStorage(t){return new RxStorageLocalstorageMetaOptimized(t)}export var RxStorageLocalstorageMetaOptimized=function(){function r(t){this.name="localstorage-meta-optimized",this.statics=Object.assign({},a.statics,{prepareQuery:(t,r)=>t.title===e?a.statics.prepareQuery(t,r):this.settings.storage.statics.prepareQuery(t,r)}),this.settings=t}return r.prototype.createStorageInstance=async function(r){return t(r),r.schema.title===e?a.createStorageInstance(r):this.settings.storage.createStorageInstance(r)},r}();